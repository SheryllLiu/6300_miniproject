<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.23">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Shuchen (Sheryll) Liu">

<title>Mini_Project_sl2425</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="miniproject_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="miniproject_report_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="miniproject_report_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="miniproject_report_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="miniproject_report_files/libs/quarto-html/popper.min.js"></script>
<script src="miniproject_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="miniproject_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="miniproject_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="miniproject_report_files/libs/quarto-html/quarto-syntax-highlighting-1fe81d0376b2c50856e68e651e390326.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="miniproject_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="miniproject_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="miniproject_report_files/libs/bootstrap/bootstrap-9e3ffae467580fdb927a41352e75a2e0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.35.2.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#navigating-the-skies-a-data-driven-guide-to-us-air-travel" id="toc-navigating-the-skies-a-data-driven-guide-to-us-air-travel" class="nav-link active" data-scroll-target="#navigating-the-skies-a-data-driven-guide-to-us-air-travel">‚úàÔ∏è Navigating the Skies: A Data-Driven Guide to US Air Travel</a></li>
  <li><a href="#chapter-1-timing-is-everything" id="toc-chapter-1-timing-is-everything" class="nav-link" data-scroll-target="#chapter-1-timing-is-everything">üìÖ Chapter 1: Timing is Everything</a></li>
  <li><a href="#chapter-2-delays-disruptions-and-the-north-bend-anomaly" id="toc-chapter-2-delays-disruptions-and-the-north-bend-anomaly" class="nav-link" data-scroll-target="#chapter-2-delays-disruptions-and-the-north-bend-anomaly">üå©Ô∏è Chapter 2: Delays, Disruptions, and the ‚ÄúNorth Bend‚Äù Anomaly</a></li>
  <li><a href="#chapter-3-finding-the-heroes" id="toc-chapter-3-finding-the-heroes" class="nav-link" data-scroll-target="#chapter-3-finding-the-heroes">üèÜ Chapter 3: Finding the Heroes</a>
  <ul class="collapse">
  <li><a href="#final-thoughts" id="toc-final-thoughts" class="nav-link" data-scroll-target="#final-thoughts">üéÑ Final Thoughts</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a>
  <ul class="collapse">
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data Sources</a></li>
  <li><a href="#contextual-news-sources" id="toc-contextual-news-sources" class="nav-link" data-scroll-target="#contextual-news-sources">Contextual &amp; News Sources</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mini_Project_sl2425</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Shuchen (Sheryll) Liu </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="navigating-the-skies-a-data-driven-guide-to-us-air-travel" class="level2">
<h2 class="anchored" data-anchor-id="navigating-the-skies-a-data-driven-guide-to-us-air-travel">‚úàÔ∏è Navigating the Skies: A Data-Driven Guide to US Air Travel</h2>
<p>Buckle Up! Welcome aboard! Before we take off, a quick disclaimer: The data we will be analyzing is a snapshot from September 2019. While airlines and airports have certainly evolved since then, this historical data offers fascinating insights into how the US aviation system handles stress. Please note that I don‚Äôt have the full context for every single delay, so this report isn‚Äôt about pointing fingers but learning the landscape.</p>
<div id="7874f0ff" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># read .csv into python</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df_q1 <span class="op">=</span> pd.read_csv(<span class="st">"./sql_output/sl2425_miniproj_q1_output.csv"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>df_q2 <span class="op">=</span> pd.read_csv(<span class="st">"./sql_output/sl2425_miniproj_q2_output.csv"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>df_q3 <span class="op">=</span> pd.read_csv(<span class="st">"./sql_output/sl2425_miniproj_q3_output.csv"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>df_q4 <span class="op">=</span> pd.read_csv(<span class="st">"./sql_output/sl2425_miniproj_q4_output.csv"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>df_q5 <span class="op">=</span> pd.read_csv(<span class="st">"./sql_output/sl2425_miniproj_q5_output.csv"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>df_q6a <span class="op">=</span> pd.read_csv(<span class="st">"./sql_output/sl2425_miniproj_q6a_output.csv"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>df_q6b <span class="op">=</span> pd.read_csv(<span class="st">"./sql_output/sl2425_miniproj_q6b_output.csv"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>df_q7 <span class="op">=</span> pd.read_csv(<span class="st">"./sql_output/sl2425_miniproj_q7_output.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="chapter-1-timing-is-everything" class="level2">
<h2 class="anchored" data-anchor-id="chapter-1-timing-is-everything">üìÖ Chapter 1: Timing is Everything</h2>
<p>When is the best time to fly?</p>
<p>We start our journey by looking at the rhythm of the skies. Is there a ‚Äúperfect day‚Äù to book a flight? To answer this, I visualized the flight volume trends across the entire month.</p>
<div id="cd8c9cad" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># line chart showing seventh query regarding avg amount of flights in every three days in Sep.2019</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>df_q7 <span class="op">=</span> df_q7.drop(<span class="dv">0</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>df_q7.loc[<span class="dv">0</span>:<span class="dv">3</span>,<span class="st">"Avg_Preceding_3_Days"</span>] <span class="op">=</span> pd.NA</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>df_q7[<span class="st">'Flight_Date'</span>] <span class="op">=</span> pd.to_datetime(df_q7[<span class="st">'Flight_Date'</span>])</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Scatter(</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>df_q7[<span class="st">'Flight_Date'</span>], </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>df_q7[<span class="st">'Daily_Total'</span>],</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    mode<span class="op">=</span><span class="st">'lines+markers'</span>,       </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">'Daily Actual Number of Flights'</span>,       </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'lightblue'</span>, width<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">4</span>),        </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    opacity<span class="op">=</span><span class="fl">0.6</span>                 </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Scatter(</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>df_q7[<span class="st">'Flight_Date'</span>], </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>df_q7[<span class="st">'Avg_Preceding_3_Days'</span>],</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    mode<span class="op">=</span><span class="st">'lines'</span>,               </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">'Average Number of Flights in Preceding 3 Days'</span>,         </span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'darkblue'</span>, width<span class="op">=</span><span class="dv">3</span>)   </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'September Flight Traffic Trends: Daily Fluctuations vs 3-Day Average'</span>,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Date'</span>,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Number of Flights'</span>,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    hovermode<span class="op">=</span><span class="st">'x unified'</span>,      </span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>     </span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="d1a5fdbc-3818-4d26-a484-dac9f9ad1a17" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d1a5fdbc-3818-4d26-a484-dac9f9ad1a17")) {                    Plotly.newPlot(                        "d1a5fdbc-3818-4d26-a484-dac9f9ad1a17",                        [{"line":{"color":"lightblue","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Daily Actual Number of Flights","opacity":0.6,"x":["2019-09-01T00:00:00","2019-09-02T00:00:00","2019-09-03T00:00:00","2019-09-04T00:00:00","2019-09-05T00:00:00","2019-09-06T00:00:00","2019-09-07T00:00:00","2019-09-08T00:00:00","2019-09-09T00:00:00","2019-09-10T00:00:00","2019-09-11T00:00:00","2019-09-12T00:00:00","2019-09-13T00:00:00","2019-09-14T00:00:00","2019-09-15T00:00:00","2019-09-16T00:00:00","2019-09-17T00:00:00","2019-09-18T00:00:00","2019-09-19T00:00:00","2019-09-20T00:00:00","2019-09-21T00:00:00","2019-09-22T00:00:00","2019-09-23T00:00:00","2019-09-24T00:00:00","2019-09-25T00:00:00","2019-09-26T00:00:00","2019-09-27T00:00:00","2019-09-28T00:00:00","2019-09-29T00:00:00","2019-09-30T00:00:00"],"y":[16542,20673,20138,19982,20659,20690,16571,20715,21429,20346,20576,21481,21472,16818,20714,21446,20336,20565,21478,21446,16807,20724,21434,20330,20554,21517,21487,16838,20732,21479],"type":"scatter"},{"line":{"color":"darkblue","width":3},"mode":"lines","name":"Average Number of Flights in Preceding 3 Days","x":["2019-09-01T00:00:00","2019-09-02T00:00:00","2019-09-03T00:00:00","2019-09-04T00:00:00","2019-09-05T00:00:00","2019-09-06T00:00:00","2019-09-07T00:00:00","2019-09-08T00:00:00","2019-09-09T00:00:00","2019-09-10T00:00:00","2019-09-11T00:00:00","2019-09-12T00:00:00","2019-09-13T00:00:00","2019-09-14T00:00:00","2019-09-15T00:00:00","2019-09-16T00:00:00","2019-09-17T00:00:00","2019-09-18T00:00:00","2019-09-19T00:00:00","2019-09-20T00:00:00","2019-09-21T00:00:00","2019-09-22T00:00:00","2019-09-23T00:00:00","2019-09-24T00:00:00","2019-09-25T00:00:00","2019-09-26T00:00:00","2019-09-27T00:00:00","2019-09-28T00:00:00","2019-09-29T00:00:00","2019-09-30T00:00:00"],"y":[null,null,null,19117.6667,20264.3333,20259.6667,20443.6667,19306.6667,19325.3333,19571.6667,20830.0,20783.6667,20801.0,21176.3333,19923.6667,19668.0,19659.3333,20832.0,20782.3333,20793.0,21163.0,19910.3333,19659.0,19655.0,20829.3333,20772.6667,20800.3333,21186.0,19947.3333,19685.6667],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"title":{"text":"September Flight Traffic Trends: Daily Fluctuations vs 3-Day Average"},"xaxis":{"title":{"text":"Date"}},"yaxis":{"title":{"text":"Number of Flights"}},"hovermode":"x unified"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d1a5fdbc-3818-4d26-a484-dac9f9ad1a17');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>The Pulse of September: The line chart above shows the daily heartbeat of air traffic. The blue shaded line represents the raw daily numbers, while the dark line smooths out the noise to show the 3-day trend. You can hover over the line to see exact numbers. Notice the significant fluctuation around September 1st. The dip to just over 16,000 flights likely reflects the lull during the Labor Day holiday weekend before business travel resumed.</p>
<p>But what about the day of the week?</p>
<div id="91e67466" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bar chart showing third query regarding busiest day of the week (query3)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>fig_q3 <span class="op">=</span> px.bar(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    df_q3,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'Day'</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'count(*)'</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    text<span class="op">=</span><span class="st">'rank_busy'</span>,  </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Weekly Traffic: Which Day is the Busiest?'</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Day'</span>: <span class="st">'Day of the Week'</span>, </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'count(*)'</span>: <span class="st">'Number of Flights'</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">'count(*)'</span>,    </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    color_continuous_scale<span class="op">=</span><span class="st">'Blues'</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>fig_q3.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="7432098b-4e5a-41f3-9d85-d65481c69b62" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("7432098b-4e5a-41f3-9d85-d65481c69b62")) {                    Plotly.newPlot(                        "7432098b-4e5a-41f3-9d85-d65481c69b62",                        [{"alignmentgroup":"True","hovertemplate":"Day of the Week=%{x}\u003cbr\u003eNumber of Flights=%{marker.color}\u003cbr\u003erank_busy=%{text}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":[106461,99427,85135,85095,81677,81150,67034],"coloraxis":"coloraxis","pattern":{"shape":""}},"name":"","offsetgroup":"","orientation":"v","showlegend":false,"text":[1.0,2.0,3.0,4.0,5.0,6.0,7.0],"textposition":"auto","x":["Monday","Sunday","Thursday","Friday","Wednesday","Tuesday","Saturday"],"xaxis":"x","y":[106461,99427,85135,85095,81677,81150,67034],"yaxis":"y","type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Day of the Week"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Number of Flights"}},"coloraxis":{"colorbar":{"title":{"text":"Number of Flights"}},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]]},"legend":{"tracegroupgap":0},"title":{"text":"Weekly Traffic: Which Day is the Busiest?"},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('7432098b-4e5a-41f3-9d85-d65481c69b62');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>The Verdict: If you hate crowds, this chart is your best friend. As shown in the bar chart, Monday is the busiest day of the week, packed with business travelers starting their week. In contrast, flying on a Saturday is your best bet for a peaceful journey‚Äîit‚Äôs the quietest day of the week by far, meaning shorter security lines and a more relaxed airport experience.</p>
</section>
<section id="chapter-2-delays-disruptions-and-the-north-bend-anomaly" class="level2">
<h2 class="anchored" data-anchor-id="chapter-2-delays-disruptions-and-the-north-bend-anomaly">üå©Ô∏è Chapter 2: Delays, Disruptions, and the ‚ÄúNorth Bend‚Äù Anomaly</h2>
<p>Now that we‚Äôve picked a date, let‚Äôs talk about risks! Delays are annoying, but some are definitely worse than the others.</p>
<p><strong>Part 1: The ‚ÄúRisky‚Äù Airlines</strong> Which airline has the highest ‚Äúrisk ceiling‚Äù? I merged two critical metrics into one chart to give each airline a ‚ÄúRisk Profile‚Äù:</p>
<p>Bar Height represents the maximum departure delay, that is worst single case. Bar Color represents the average delay at their specific ‚Äúweakest link‚Äù airport.</p>
<div id="c1a21972" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Query 1 &amp; Query 5</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df_q1 <span class="op">=</span> df_q1.rename(columns<span class="op">=</span>{<span class="st">'airline_name'</span>: <span class="st">'Airline_Name'</span>})</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>df_merged <span class="op">=</span> pd.merge(df_q1, df_q5, on<span class="op">=</span><span class="st">"Airline_Name"</span>, how<span class="op">=</span><span class="st">"inner"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>fig_combo <span class="op">=</span> px.bar(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    df_merged,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Airline_Name"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"max_delay"</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"Avg_Delay"</span>, </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>{</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Airline_Name"</span>: <span class="va">False</span>, </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"max_delay"</span>: <span class="st">":.0f min"</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Airport_Name"</span>: <span class="va">True</span>,    </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Avg_Delay"</span>: <span class="st">":.1f min"</span> </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Airlines' Worst Performance Profile: Max Delay v.s. Weakest Airport"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"max_Delay"</span>: <span class="st">"Max Single Delay (Minutes)"</span>,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Avg_Delay"</span>: <span class="st">"Avg Delay at Worst Airport"</span>,</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Airport_Name"</span>: <span class="st">"Worst Performing Airport"</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">"plotly_white"</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>fig_combo.update_layout(</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span>{<span class="st">'categoryorder'</span>:<span class="st">'total ascending'</span>}, </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    legend_title_text<span class="op">=</span><span class="st">"Avg Delay Severity"</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>fig_combo.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="96e7b23e-784a-420a-96b3-96e52e995951" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("96e7b23e-784a-420a-96b3-96e52e995951")) {                    Plotly.newPlot(                        "96e7b23e-784a-420a-96b3-96e52e995951",                        [{"alignmentgroup":"True","customdata":[["San Francisco, CA: San Francisco International",9.5652],["Tampa, FL: Tampa International",19.0],["Des Moines, IA: Des Moines International",47.1765],["Bismarck\u002fMandan, ND: Bismarck Municipal",42.3333],["Ashland, WV: Tri-State\u002fMilton J. Ferguson Field",47.0],["Milwaukee, WI: General Mitchell International",357.5],["New York, NY: John F. Kennedy International",40.0],["Albuquerque, NM: Albuquerque International Sunport",82.8],["Chicago, IL: Chicago O'Hare International",28.2152],["Lihue, HI: Lihue Airport",38.7941],["Tampa, FL: Tampa International",53.0],["Charleston\u002fDunbar, WV: Yeager",16.0],["Madison, WI: Dane County Regional-Truax Field",75.963],["Philadelphia, PA: Philadelphia International",167.0],["Sarasota\u002fBradenton, FL: Sarasota\u002fBradenton International",55.2],["South Bend, IN: South Bend International",57.9636],["White Plains, NY: Westchester County",54.4286]],"hovertemplate":"max_delay=%{y:.0f min}\u003cbr\u003eWorst Performing Airport=%{customdata[0]}\u003cbr\u003eAvg Delay at Worst Airport=%{marker.color:.1f min}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":[9.5652,19.0,47.1765,42.3333,47.0,357.5,40.0,82.8,28.2152,38.7941,53.0,16.0,75.963,167.0,55.2,57.9636,54.4286],"coloraxis":"coloraxis","pattern":{"shape":""}},"name":"","offsetgroup":"","orientation":"v","showlegend":false,"textposition":"auto","x":["Southwest Airlines Co.: WN","Alaska Airlines Inc.: AS","Frontier Airlines Inc.: F9","Allegiant Air: G4","PSA Airlines Inc.: OH","Endeavor Air Inc.: 9E","Hawaiian Airlines Inc.: HA","Republic Airline: YX","JetBlue Airways: B6","Delta Air Lines Inc.: DL","Mesa Airlines Inc.: YV","Spirit Air Lines: NK","American Airlines Inc.: AA","SkyWest Airlines Inc.: OO","United Air Lines Inc.: UA","ExpressJet Airlines LLC: EV","Envoy Air: MQ"],"xaxis":"x","y":[438,439,496,916,956,1077,1154,1168,1179,1186,1267,1421,1493,1513,1525,1584,1753],"yaxis":"y","type":"bar"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Airline_Name"},"categoryorder":"total ascending"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"max_delay"}},"coloraxis":{"colorbar":{"title":{"text":"Avg Delay at Worst Airport"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0,"title":{"text":"Avg Delay Severity"}},"title":{"text":"Airlines' Worst Performance Profile: Max Delay v.s. Weakest Airport"},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('96e7b23e-784a-420a-96b3-96e52e995951');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Analysis: Hover over the bars to see the details. You‚Äôll notice that while some airlines have shorter bars, which represent lower max delay, they might be darker in color, indicating they struggle consistently at a specific hub. For example, check out [Insert an Airline Name] ‚Äî their ‚Äúweakest airport‚Äù listed in the tooltip might be a place you want to avoid connecting through.</p>
<p><strong>Part 2: The Outlier (Airports)</strong> Speaking of struggling airports, you might expect a busy hub like JFK or LAX to have the highest average delay like me, but the data reveals a surprise.</p>
<div id="577753da" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Query 4</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>airport_name <span class="op">=</span> df_q4[<span class="st">'Name'</span>][<span class="dv">0</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>delay_value <span class="op">=</span> df_q4[<span class="st">'avg_delay'</span>][<span class="dv">0</span>]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Indicator(</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    mode <span class="op">=</span> <span class="st">"number"</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> delay_value,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    number <span class="op">=</span> {</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'suffix'</span>: <span class="st">" min"</span>, </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'valueformat'</span>: <span class="st">".0f"</span>, <span class="co">#</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'font'</span>: {<span class="st">'size'</span>: <span class="dv">80</span>, <span class="st">'color'</span>: <span class="st">"firebrick"</span>} </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    domain <span class="op">=</span> {<span class="st">'x'</span>: [<span class="dv">0</span>, <span class="dv">1</span>], <span class="st">'y'</span>: [<span class="dv">0</span>, <span class="dv">1</span>]}</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">"The Airport with the Largest Average Delay (Sep 2019)"</span>,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.85</span>,</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">'font'</span>: {<span class="st">'size'</span>: <span class="dv">24</span>}</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    annotations<span class="op">=</span>[<span class="bu">dict</span>(</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>airport_name,</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="fl">0.5</span>, y<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>        xref<span class="op">=</span><span class="st">"paper"</span>, yref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>        showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>        font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span><span class="st">"gray"</span>)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    )],</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">"plotly_white"</span>,</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="147d8ffa-25aa-44d6-a23d-46533fd75f07" class="plotly-graph-div" style="height:300px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("147d8ffa-25aa-44d6-a23d-46533fd75f07")) {                    Plotly.newPlot(                        "147d8ffa-25aa-44d6-a23d-46533fd75f07",                        [{"domain":{"x":[0,1],"y":[0,1]},"mode":"number","number":{"font":{"color":"firebrick","size":80},"suffix":" min","valueformat":".0f"},"value":43.9231,"type":"indicator"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"title":{"font":{"size":24},"text":"The Airport with the Largest Average Delay (Sep 2019)","y":0.85,"x":0.5,"xanchor":"center","yanchor":"top"},"annotations":[{"font":{"color":"gray","size":18},"showarrow":false,"text":"North Bend\u002fCoos Bay, OR: Southwest Oregon Regional","x":0.5,"xref":"paper","y":0.2,"yref":"paper"}],"height":300},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('147d8ffa-25aa-44d6-a23d-46533fd75f07');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
Analysis: yes, North Bend/Coos Bay takes the crown. Why? In late September 2019, the Pacific Northwest was hit by an unusually early ‚ÄúArctic Blast‚Äù system. Local reports from Coos Bay confirmed ominous fog and cold rain. Unlike major hubs equipped for adverse weather, smaller regional airports like North Bend are highly susceptible to such sudden shifts, causing the massive average delay we see here.
<p style="text-align: center; font-size: 13px; color: gray; margin-top: -10px;">
<em>Source: <a href="https://forecast.weather.gov/data/obhistory/KOTH.html" style="color: gray;">NWS(2019)</a></em>
</p>
<p style="text-align: center; font-size: 13px; color: gray; margin-top: -10px;">
<em>Source: <a href="http://www.coosbayspeedway.us/press/article/78734" style="color: gray;">CoosBatSpeedway(2019)</a></em>
</p>
<p><strong>Part 3: The Ultimate Disruption (Cancellations)</strong> Finally, let‚Äôs look at the worst-case scenario: the flight doesn‚Äôt leave at all.</p>
<div id="b513bbff" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Query 6a:</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>cancel_count <span class="op">=</span> df_q6a[<span class="st">'Canceled_Flights_Count'</span>][<span class="dv">0</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Indicator(</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    mode <span class="op">=</span> <span class="st">"number"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> cancel_count,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    number <span class="op">=</span> {</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">'font'</span>: {</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">'size'</span>: <span class="dv">100</span>, </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">'color'</span>: <span class="st">"black"</span>, </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">'family'</span>: <span class="st">"Courier New, monospace"</span> </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        } </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    domain <span class="op">=</span> {<span class="st">'x'</span>: [<span class="dv">0</span>, <span class="dv">1</span>], <span class="st">'y'</span>: [<span class="dv">0</span>, <span class="dv">1</span>]}</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">"TOTAL CANCELED FLIGHTS"</span>,</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.8</span>,</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">'font'</span>: {</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>            <span class="st">'size'</span>: <span class="dv">24</span>, </span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>            <span class="st">'color'</span>: <span class="st">"black"</span>,</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>            <span class="st">'family'</span>: <span class="st">"Courier New, monospace"</span> </span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    paper_bgcolor<span class="op">=</span><span class="st">'rgba(240,240,240,1)'</span>, </span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    plot_bgcolor<span class="op">=</span><span class="st">'rgba(240,240,240,1)'</span>,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="cadd97b0-4915-4453-b7b7-796b20a28a83" class="plotly-graph-div" style="height:300px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("cadd97b0-4915-4453-b7b7-796b20a28a83")) {                    Plotly.newPlot(                        "cadd97b0-4915-4453-b7b7-796b20a28a83",                        [{"domain":{"x":[0,1],"y":[0,1]},"mode":"number","number":{"font":{"color":"black","family":"Courier New, monospace","size":100}},"value":10016,"type":"indicator"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"font":{"size":24,"color":"black","family":"Courier New, monospace"},"text":"TOTAL CANCELED FLIGHTS","y":0.8,"x":0.5,"xanchor":"center","yanchor":"top"},"paper_bgcolor":"rgba(240,240,240,1)","plot_bgcolor":"rgba(240,240,240,1)","height":300},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('cadd97b0-4915-4453-b7b7-796b20a28a83');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>That‚Äôs over 10,000 flights grounded in one month. Who tel me what happened?</p>
<div id="bdd7b060" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Query 6b: Most Frequent Cancellation Reasons by </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Using a map to showcase the results</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>df_l_airport <span class="op">=</span> pd.read_csv(<span class="st">"./Dimension_tables_export/L_AIRPORT.csv"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>df_geo <span class="op">=</span> pd.read_csv(<span class="st">"airports.csv"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>df_step1 <span class="op">=</span> pd.merge(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    df_q6b, </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    df_l_airport, </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    left_on<span class="op">=</span><span class="st">"Airport_Name"</span>, </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    right_on<span class="op">=</span><span class="st">"Name"</span>, </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    how<span class="op">=</span><span class="st">"left"</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>df_geo_clean <span class="op">=</span> df_geo[[<span class="st">'iata_code'</span>, <span class="st">'local_code'</span>, <span class="st">'latitude_deg'</span>, <span class="st">'longitude_deg'</span>]]</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>df_geo_iata_unique <span class="op">=</span> df_geo_clean.dropna(subset<span class="op">=</span>[<span class="st">'iata_code'</span>]).drop_duplicates(subset<span class="op">=</span>[<span class="st">'iata_code'</span>])</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>df_final <span class="op">=</span> pd.merge(</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    df_step1, </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    df_geo_iata_unique, </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    left_on<span class="op">=</span><span class="st">"Code"</span>, </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    right_on<span class="op">=</span><span class="st">"iata_code"</span>, </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    how<span class="op">=</span><span class="st">"left"</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>mask_nan <span class="op">=</span> df_final[<span class="st">'latitude_deg'</span>].isna()</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> mask_nan.<span class="bu">any</span>():</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    missing_rows <span class="op">=</span> df_final.loc[mask_nan, [<span class="st">'Code'</span>]]</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    df_geo_local_unique <span class="op">=</span> df_geo_clean.dropna(subset<span class="op">=</span>[<span class="st">'local_code'</span>]).drop_duplicates(subset<span class="op">=</span>[<span class="st">'local_code'</span>])</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    df_patch <span class="op">=</span> pd.merge(</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        missing_rows, </span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>        df_geo_local_unique, </span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>        left_on<span class="op">=</span><span class="st">"Code"</span>, </span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>        right_on<span class="op">=</span><span class="st">"local_code"</span>, </span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>        how<span class="op">=</span><span class="st">"left"</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    df_final.loc[mask_nan, <span class="st">'latitude_deg'</span>] <span class="op">=</span> df_patch[<span class="st">'latitude_deg'</span>].values</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    df_final.loc[mask_nan, <span class="st">'longitude_deg'</span>] <span class="op">=</span> df_patch[<span class="st">'longitude_deg'</span>].values</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Interactive Map</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>fig_map <span class="op">=</span> px.scatter_geo(</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    df_final.dropna(subset<span class="op">=</span>[<span class="st">'latitude_deg'</span>, <span class="st">'longitude_deg'</span>]), </span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    lat<span class="op">=</span><span class="st">"latitude_deg"</span>,</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    lon<span class="op">=</span><span class="st">"longitude_deg"</span>,</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"Cancel_Reason"</span>,</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    size<span class="op">=</span><span class="st">"Cancel_Count"</span>,</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    hover_name<span class="op">=</span><span class="st">"Airport_Name"</span>,</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>{</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>        <span class="st">'latitude_deg'</span>: <span class="va">False</span>, </span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>        <span class="st">'longitude_deg'</span>: <span class="va">False</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>    scope<span class="op">=</span><span class="st">"usa"</span>,</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Cancellation Reasons by Airport (Mapped via FAA/IATA Codes)"</span>,</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">"plotly_white"</span>,</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>    projection<span class="op">=</span><span class="st">"albers usa"</span>,</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>    opacity<span class="op">=</span><span class="fl">0.8</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>fig_map.update_layout(</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">"Reason"</span>, yanchor<span class="op">=</span><span class="st">"top"</span>, y<span class="op">=</span><span class="fl">0.99</span>, xanchor<span class="op">=</span><span class="st">"right"</span>, x<span class="op">=</span><span class="fl">0.99</span>),</span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span>{<span class="st">"r"</span>:<span class="dv">0</span>,<span class="st">"t"</span>:<span class="dv">50</span>,<span class="st">"l"</span>:<span class="dv">0</span>,<span class="st">"b"</span>:<span class="dv">0</span>}</span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>fig_map.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="14defe61-ea5c-4a3e-a06a-1f964b9e6faa" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("14defe61-ea5c-4a3e-a06a-1f964b9e6faa")) {                    Plotly.newPlot(                        "14defe61-ea5c-4a3e-a06a-1f964b9e6faa",                        [{"customdata":[[32.4113006592,-99.6819000244],[18.4949,-67.129402],[40.91609954833984,-81.44219970703125],[42.74829864501953,-73.80169677734375],[35.039976,-106.608925],[31.3274,-92.549797],[40.651773,-75.442797],[44.258099,-88.519096],[35.436199,-82.541801],[38.366699,-82.557999],[39.223202,-106.869003],[33.6367,-84.428101],[39.45759963989258,-74.57720184326172],[33.3699,-81.9645],[30.197535,-97.662015],[36.655102,52.349602],[39.1754,-76.668297],[44.8074,-68.828102],[71.285402,-156.766008],[30.533199,-91.149597],[29.9508,-94.020699],[38.5452,-89.835197],[33.562901,-86.753502],[46.77270126342773,-100.74600219726562],[40.4771,-88.915901],[42.36197,-71.0079],[36.532082,-93.200544],[36.475201,-82.407401],[25.90679931640625,-97.4259033203125],[31.258801,-81.466499],[42.940498,-78.732201],[35.387798,-80.709099],[37.2253,-89.570801],[32.898602,-80.040497],[18.337091,-64.977251],[35.2140007019043,-80.94309997558594],[38.13859939575195,-78.4529037475586],[35.035301,-85.203796],[41.785999,-87.752403],[41.9786,-87.9048],[17.701413,-64.802608],[39.048801,-84.667801],[39.2966,-80.228104],[41.411701,-81.8498],[30.5886,-96.3638],[38.8181,-92.219597],[39.998001,-82.891899],[39.813801,-82.927803],[27.770399,-97.501198],[32.847099,-96.851799],[32.896801,-97.038002],[29.179899,-81.058098],[70.19470215,-148.4649963],[39.861698150635,-104.672996521],[41.534,-93.663101],[42.21377,-83.353786],[42.402,-90.709503],[46.842098,-92.193604],[31.807199,-106.377998],[42.1599006652832,-76.8916015625],[42.083127,-80.173867],[44.12459945678711,-123.21199798583984],[38.0369987488,-87.5324020386],[46.92070007324219,-96.81580352783205],[36.281898,-94.306801],[34.991199,-78.880302],[26.072599,-80.152702],[26.53619956970215,-81.75520324707031],[40.9785,-85.195099],[39.126663,-108.529387],[42.88079834,-85.52279663],[47.48199844,-111.3710022],[35.635535,-77.384262],[39.708771,-77.728014],[26.228500366210938,-97.65440368652344],[40.193501,-76.763397],[41.93851,-72.688066],[31.4671,-89.337097],[32.2244,-80.697502],[32.6875,-103.217003],[29.984399795532227,-95.34140014648438],[29.645399,-95.2789],[34.637199,-86.775101],[39.7173,-86.294403],[40.79520035,-73.10019684],[43.6072998046875,-110.73799896240234],[32.311199,-90.075897],[30.492469,-81.687813],[34.829201,-77.612099],[58.355,-134.576004],[42.234901428222656,-85.5521011352539],[39.2976,-94.713898],[55.35559845,-131.7140045],[35.811001,-83.994003],[57.75,-152.4940033],[43.879002,-91.256699],[30.205299,-91.987602],[30.126100540161133,-93.22329711914062],[27.543800354003903,-99.46160125732422],[36.083361,-115.151817],[40.275902,-79.4048],[37.857914,-80.400438],[40.85100173950195,-96.75920104980467],[34.729582,-92.223728],[38.1744,-85.736],[37.625381,-118.84306],[42.932598,-71.435699],[28.1028,-80.645302],[35.0424,-89.9767],[32.3326,-88.7519],[25.7932,-80.290604],[31.942499,-102.202003],[42.947201,-87.896599],[44.880081,-93.221741],[30.626800537100003,-88.06809997559999],[30.6912,-88.242798],[41.448502,-90.5075],[32.510899,-92.037697],[44.777448,-89.670238],[43.169498,-86.238197],[33.679699,-78.928299],[41.25310135,-70.06020355],[36.1245,-86.6782],[35.0730018616,-77.04290008539999],[29.993401,-90.258003],[40.639447,-73.779317],[40.777199,-73.872597],[40.692501,-74.168701],[41.504101,-74.104797],[37.131901,-76.492996],[43.1073,-78.946198],[36.895341,-76.201],[43.41709899902344,-124.24600219726562],[44.6819,-75.4655],[35.393388,-97.598248],[28.429399490356445,-81.30899810791016],[30.357106,-85.795414],[30.4734,-87.1866],[39.871899,-75.241096],[33.435302,-112.005905],[40.491501,-80.232903],[44.6509017944336,-73.46810150146484],[18.00830078125,-66.56300354003906],[45.588699,-122.598],[43.0778999329,-70.8233032227],[41.725038,-71.425668],[39.942699,-91.194603],[35.877602,-78.787498],[39.4991,-119.767998],[37.505199,-77.319702],[37.3255,-79.975403],[43.908298,-92.5],[43.531913,-84.082275],[38.79100036621094,-97.6521987915039],[40.78886,-111.979866],[29.533701,-98.469803],[18.4394,-66.001801],[28.7775993347168,-81.23750305175781],[33.675701,-117.867996],[32.127602,-81.202103],[41.3385009766,-75.72339630130001],[32.446602,-93.8256],[57.04710006713867,-135.36199951171875],[41.708698,-86.317299],[39.844101,-89.677902],[37.245701,-93.388603],[38.748697,-90.370003],[36.162132,-97.085581],[43.11119842529297,-76.1063003540039],[30.3965,-84.350304],[27.9755,-82.533203],[40.276699,-74.813499],[36.19839859008789,-95.88809967041016],[30.4832,-86.525398],[38.8521,-77.037697],[38.9445,-77.455803],[42.55709838867188,-92.40029907226562],[26.683201,-80.095596],[41.06700134277344,-73.70760345458984],[27.857778,-115.165],[34.270599365234375,-77.90260314941406],[42.2673,-71.875702],[32.650938,-114.609375],[32.650938,-114.609375]],"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eCancel_Reason=Weather\u003cbr\u003eCancel_Count=%{marker.size}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Abilene, TX: Abilene Regional","Aguadilla, PR: Rafael Hernandez","Akron, OH: Akron-Canton Regional","Albany, NY: Albany International","Albuquerque, NM: Albuquerque International Sunport","Alexandria, LA: Alexandria International","Allentown\u002fBethlehem\u002fEaston, PA: Lehigh Valley International","Appleton, WI: Appleton International","Asheville, NC: Asheville Regional","Ashland, WV: Tri-State\u002fMilton J. Ferguson Field","Aspen, CO: Aspen Pitkin County Sardy Field","Atlanta, GA: Hartsfield-Jackson Atlanta International","Atlantic City, NJ: Atlantic City International","Augusta, GA: Augusta Regional at Bush Field","Austin, TX: Austin - Bergstrom International","Austin, TX: Austin - Bergstrom International","Baltimore, MD: Baltimore\u002fWashington International Thurgood Marshall","Bangor, ME: Bangor International","Barrow, AK: Wiley Post\u002fWill Rogers Memorial","Baton Rouge, LA: Baton Rouge Metropolitan\u002fRyan Field","Beaumont\u002fPort Arthur, TX: Jack Brooks Regional","Belleville, IL: Scott AFB\u002fMidAmerica","Birmingham, AL: Birmingham-Shuttlesworth International","Bismarck\u002fMandan, ND: Bismarck Municipal","Bloomington\u002fNormal, IL: Central Il Regional Airport at Bloomington","Boston, MA: Logan International","Branson, MO: Branson Airport","Bristol\u002fJohnson City\u002fKingsport, TN: Tri Cities","Brownsville, TX: Brownsville South Padre Island International","Brunswick, GA: Brunswick Golden Isles","Buffalo, NY: Buffalo Niagara International","CONCORD, NC: Concord Padgett Regional","Cape Girardeau, MO: Cape Girardeau Regional","Charleston, SC: Charleston AFB\u002fInternational","Charlotte Amalie, VI: Cyril E King","Charlotte, NC: Charlotte Douglas International","Charlottesville, VA: Charlottesville Albemarle","Chattanooga, TN: Lovell Field","Chicago, IL: Chicago Midway International","Chicago, IL: Chicago O'Hare International","Christiansted, VI: Henry E. Rohlsen","Cincinnati, OH: Cincinnati\u002fNorthern Kentucky International","Clarksburg\u002fFairmont, WV: North Central West Virginia","Cleveland, OH: Cleveland-Hopkins International","College Station\u002fBryan, TX: Easterwood Field","Columbia, MO: Columbia Regional","Columbus, OH: John Glenn Columbus International","Columbus, OH: Rickenbacker International","Corpus Christi, TX: Corpus Christi International","Dallas, TX: Dallas Love Field","Dallas\u002fFort Worth, TX: Dallas\u002fFort Worth International","Daytona Beach, FL: Daytona Beach International","Deadhorse, AK: Deadhorse Airport","Denver, CO: Denver International","Des Moines, IA: Des Moines International","Detroit, MI: Detroit Metro Wayne County","Dubuque, IA: Dubuque Regional","Duluth, MN: Duluth International","El Paso, TX: El Paso International","Elmira\u002fCorning, NY: Elmira\u002fCorning Regional","Erie, PA: Erie International\u002fTom Ridge Field","Eugene, OR: Mahlon Sweet Field","Evansville, IN: Evansville Regional","Fargo, ND: Hector International","Fayetteville, AR: Northwest Arkansas Regional","Fayetteville, NC: Fayetteville Regional\u002fGrannis Field","Fort Lauderdale, FL: Fort Lauderdale-Hollywood International","Fort Myers, FL: Southwest Florida International","Fort Wayne, IN: Fort Wayne International","Grand Junction, CO: Grand Junction Regional","Grand Rapids, MI: Gerald R. Ford International","Great Falls, MT: Great Falls International","Greenville, NC: Pitt Greenville","Hagerstown, MD: Hagerstown Regional-Richard A. Henson Field","Harlingen\u002fSan Benito, TX: Valley International","Harrisburg, PA: Harrisburg International","Hartford, CT: Bradley International","Hattiesburg\u002fLaurel, MS: Hattiesburg-Laurel Regional","Hilton Head, SC: Hilton Head Airport","Hobbs, NM: Lea County Regional","Houston, TX: George Bush Intercontinental\u002fHouston","Houston, TX: William P Hobby","Huntsville, AL: Huntsville International-Carl T Jones Field","Indianapolis, IN: Indianapolis International","Islip, NY: Long Island MacArthur","Jackson, WY: Jackson Hole","Jackson\u002fVicksburg, MS: Jackson Medgar Wiley Evers International","Jacksonville, FL: Jacksonville International","Jacksonville\u002fCamp Lejeune, NC: Albert J Ellis","Juneau, AK: Juneau International","Kalamazoo, MI: Kalamazoo\u002fBattle Creek International","Kansas City, MO: Kansas City International","Ketchikan, AK: Ketchikan International","Knoxville, TN: McGhee Tyson","Kodiak, AK: Kodiak Airport","La Crosse, WI: La Crosse Regional","Lafayette, LA: Lafayette Regional Paul Fournet Field","Lake Charles, LA: Lake Charles Regional","Laredo, TX: Laredo International","Las Vegas, NV: McCarran International","Latrobe, PA: Arnold Palmer Regional","Lewisburg, WV: Greenbrier Valley","Lincoln, NE: Lincoln Airport","Little Rock, AR: Bill and Hillary Clinton Nat Adams Field","Louisville, KY: Louisville Muhammad Ali International","Mammoth Lakes, CA: Mammoth Lakes Airport","Manchester, NH: Manchester-Boston Regional","Melbourne, FL: Melbourne International","Memphis, TN: Memphis International","Meridian, MS: Key Field","Miami, FL: Miami International","Midland\u002fOdessa, TX: Midland International Air and Space Port","Milwaukee, WI: General Mitchell International","Minneapolis, MN: Minneapolis-St Paul International","Mobile, AL: Mobile Downtown","Mobile, AL: Mobile Regional","Moline, IL: Quad City International","Monroe, LA: Monroe Regional","Mosinee, WI: Central Wisconsin","Muskegon, MI: Muskegon County","Myrtle Beach, SC: Myrtle Beach International","Nantucket, MA: Nantucket Memorial","Nashville, TN: Nashville International","New Bern\u002fMorehead\u002fBeaufort, NC: Coastal Carolina Regional","New Orleans, LA: Louis Armstrong New Orleans International","New York, NY: John F. Kennedy International","New York, NY: LaGuardia","Newark, NJ: Newark Liberty International","Newburgh\u002fPoughkeepsie, NY: New York Stewart International","Newport News\u002fWilliamsburg, VA: Newport News\u002fWilliamsburg International","Niagara Falls, NY: Niagara Falls International","Norfolk, VA: Norfolk International","North Bend\u002fCoos Bay, OR: Southwest Oregon Regional","Ogdensburg, NY: Ogdensburg International","Oklahoma City, OK: Will Rogers World","Orlando, FL: Orlando International","Panama City, FL: Northwest Florida Beaches International","Pensacola, FL: Pensacola International","Philadelphia, PA: Philadelphia International","Phoenix, AZ: Phoenix Sky Harbor International","Pittsburgh, PA: Pittsburgh International","Plattsburgh, NY: Plattsburgh International","Ponce, PR: Mercedita","Portland, OR: Portland International","Portsmouth, NH: Portsmouth International at Pease","Providence, RI: Theodore Francis Green State","Quincy, IL: Quincy Regional-Baldwin Field","Raleigh\u002fDurham, NC: Raleigh-Durham International","Reno, NV: Reno\u002fTahoe International","Richmond, VA: Richmond International","Roanoke, VA: Roanoke Blacksburg Regional Woodrum Field","Rochester, MN: Rochester International","Saginaw\u002fBay City\u002fMidland, MI: MBS International","Salina, KS: Salina Regional","Salt Lake City, UT: Salt Lake City International","San Antonio, TX: San Antonio International","San Juan, PR: Luis Munoz Marin International","Sanford, FL: Orlando Sanford International","Santa Ana, CA: John Wayne Airport-Orange County","Savannah, GA: Savannah\u002fHilton Head International","Scranton\u002fWilkes-Barre, PA: Wilkes Barre Scranton International","Shreveport, LA: Shreveport Regional","Sitka, AK: Sitka Rocky Gutierrez","South Bend, IN: South Bend International","Springfield, IL: Abraham Lincoln Capital","Springfield, MO: Springfield-Branson National","St. Louis, MO: St Louis Lambert International","Stillwater, OK: Stillwater Regional","Syracuse, NY: Syracuse Hancock International","Tallahassee, FL: Tallahassee International","Tampa, FL: Tampa International","Trenton, NJ: Trenton Mercer","Tulsa, OK: Tulsa International","Valparaiso, FL: Eglin AFB Destin Fort Walton Beach","Washington, DC: Ronald Reagan Washington National","Washington, DC: Washington Dulles International","Waterloo, IA: Waterloo Regional","West Palm Beach\u002fPalm Beach, FL: Palm Beach International","White Plains, NY: Westchester County","Williston, ND: Sloulin Field International","Wilmington, NC: Wilmington International","Worcester, MA: Worcester Regional","Yuma, AZ: Yuma MCAS\u002fYuma International","Yuma, AZ: Yuma MCAS\u002fYuma International"],"lat":[32.4113006592,18.4949,40.91609954833984,42.74829864501953,35.039976,31.3274,40.651773,44.258099,35.436199,38.366699,39.223202,33.6367,39.45759963989258,33.3699,30.197535,36.655102,39.1754,44.8074,71.285402,30.533199,29.9508,38.5452,33.562901,46.77270126342773,40.4771,42.36197,36.532082,36.475201,25.90679931640625,31.258801,42.940498,35.387798,37.2253,32.898602,18.337091,35.2140007019043,38.13859939575195,35.035301,41.785999,41.9786,17.701413,39.048801,39.2966,41.411701,30.5886,38.8181,39.998001,39.813801,27.770399,32.847099,32.896801,29.179899,70.19470215,39.861698150635,41.534,42.21377,42.402,46.842098,31.807199,42.1599006652832,42.083127,44.12459945678711,38.0369987488,46.92070007324219,36.281898,34.991199,26.072599,26.53619956970215,40.9785,39.126663,42.88079834,47.48199844,35.635535,39.708771,26.228500366210938,40.193501,41.93851,31.4671,32.2244,32.6875,29.984399795532227,29.645399,34.637199,39.7173,40.79520035,43.6072998046875,32.311199,30.492469,34.829201,58.355,42.234901428222656,39.2976,55.35559845,35.811001,57.75,43.879002,30.205299,30.126100540161133,27.543800354003903,36.083361,40.275902,37.857914,40.85100173950195,34.729582,38.1744,37.625381,42.932598,28.1028,35.0424,32.3326,25.7932,31.942499,42.947201,44.880081,30.626800537100003,30.6912,41.448502,32.510899,44.777448,43.169498,33.679699,41.25310135,36.1245,35.0730018616,29.993401,40.639447,40.777199,40.692501,41.504101,37.131901,43.1073,36.895341,43.41709899902344,44.6819,35.393388,28.429399490356445,30.357106,30.4734,39.871899,33.435302,40.491501,44.6509017944336,18.00830078125,45.588699,43.0778999329,41.725038,39.942699,35.877602,39.4991,37.505199,37.3255,43.908298,43.531913,38.79100036621094,40.78886,29.533701,18.4394,28.7775993347168,33.675701,32.127602,41.3385009766,32.446602,57.04710006713867,41.708698,39.844101,37.245701,38.748697,36.162132,43.11119842529297,30.3965,27.9755,40.276699,36.19839859008789,30.4832,38.8521,38.9445,42.55709838867188,26.683201,41.06700134277344,27.857778,34.270599365234375,42.2673,32.650938,32.650938],"legendgroup":"Weather","lon":[-99.6819000244,-67.129402,-81.44219970703125,-73.80169677734375,-106.608925,-92.549797,-75.442797,-88.519096,-82.541801,-82.557999,-106.869003,-84.428101,-74.57720184326172,-81.9645,-97.662015,52.349602,-76.668297,-68.828102,-156.766008,-91.149597,-94.020699,-89.835197,-86.753502,-100.74600219726562,-88.915901,-71.0079,-93.200544,-82.407401,-97.4259033203125,-81.466499,-78.732201,-80.709099,-89.570801,-80.040497,-64.977251,-80.94309997558594,-78.4529037475586,-85.203796,-87.752403,-87.9048,-64.802608,-84.667801,-80.228104,-81.8498,-96.3638,-92.219597,-82.891899,-82.927803,-97.501198,-96.851799,-97.038002,-81.058098,-148.4649963,-104.672996521,-93.663101,-83.353786,-90.709503,-92.193604,-106.377998,-76.8916015625,-80.173867,-123.21199798583984,-87.5324020386,-96.81580352783205,-94.306801,-78.880302,-80.152702,-81.75520324707031,-85.195099,-108.529387,-85.52279663,-111.3710022,-77.384262,-77.728014,-97.65440368652344,-76.763397,-72.688066,-89.337097,-80.697502,-103.217003,-95.34140014648438,-95.2789,-86.775101,-86.294403,-73.10019684,-110.73799896240234,-90.075897,-81.687813,-77.612099,-134.576004,-85.5521011352539,-94.713898,-131.7140045,-83.994003,-152.4940033,-91.256699,-91.987602,-93.22329711914062,-99.46160125732422,-115.151817,-79.4048,-80.400438,-96.75920104980467,-92.223728,-85.736,-118.84306,-71.435699,-80.645302,-89.9767,-88.7519,-80.290604,-102.202003,-87.896599,-93.221741,-88.06809997559999,-88.242798,-90.5075,-92.037697,-89.670238,-86.238197,-78.928299,-70.06020355,-86.6782,-77.04290008539999,-90.258003,-73.779317,-73.872597,-74.168701,-74.104797,-76.492996,-78.946198,-76.201,-124.24600219726562,-75.4655,-97.598248,-81.30899810791016,-85.795414,-87.1866,-75.241096,-112.005905,-80.232903,-73.46810150146484,-66.56300354003906,-122.598,-70.8233032227,-71.425668,-91.194603,-78.787498,-119.767998,-77.319702,-79.975403,-92.5,-84.082275,-97.6521987915039,-111.979866,-98.469803,-66.001801,-81.23750305175781,-117.867996,-81.202103,-75.72339630130001,-93.8256,-135.36199951171875,-86.317299,-89.677902,-93.388603,-90.370003,-97.085581,-76.1063003540039,-84.350304,-82.533203,-74.813499,-95.88809967041016,-86.525398,-77.037697,-77.455803,-92.40029907226562,-80.095596,-73.70760345458984,-115.165,-77.90260314941406,-71.875702,-114.609375,-114.609375],"marker":{"color":"#636efa","opacity":0.8,"size":[1,8,7,12,11,4,6,2,13,1,4,208,11,1,40,40,100,3,2,8,6,1,15,2,5,82,1,1,4,10,14,8,1,156,5,258,14,3,191,518,2,31,1,39,4,4,25,2,6,43,132,28,1,102,13,68,5,18,9,2,1,8,3,3,16,8,338,5,3,1,16,2,2,1,5,5,34,2,16,2,508,110,6,34,13,1,11,135,9,1,4,36,1,11,2,2,8,4,3,54,9,2,1,8,18,4,5,19,14,1,105,8,13,36,1,3,5,2,2,1,60,4,48,15,42,65,113,117,4,10,1,87,3,1,17,739,6,7,113,71,30,3,2,6,1,20,2,44,10,17,2,3,4,1,20,21,52,41,14,81,3,8,1,5,3,5,31,1,8,3,27,6,8,3,93,37,1,122,24,1,42,2,1,1],"sizemode":"area","sizeref":1.8475,"symbol":"circle"},"mode":"markers","name":"Weather","showlegend":true,"type":"scattergeo"},{"customdata":[[35.219398,-101.706001],[61.179004,-149.992561],[35.433601,-119.056999],[44.8074,-68.828102],[34.197703,-118.356378],[38.3731,-81.593201],[41.155701,-104.811997],[37.151501,-107.753998],[64.815102,-147.856003],[35.1385,-111.670998],[29.6900997162,-82.2717971802],[36.097801,-79.937302],[34.895699,-82.218903],[30.407301,-89.070099],[19.721399,-155.048004],[19.403931,-99.170963],[21.32062,-157.924228],[20.896263,-156.431837],[55.35559845,-131.7140045],[19.738783,-156.045603],[34.567699,-98.416603],[21.976,-159.339005],[33.816523,-118.149891],[33.942501,-118.407997],[37.326698,-79.200401],[41.3931007385,-70.6143035889],[30.626800537100003,-88.06809997559999],[32.300598,-86.393997],[38.5098,-107.893997],[37.720085,-122.221184],[40.6642,-89.693298],[44.0452995300293,-103.05699920654295],[38.6954,-121.591003],[37.362452,-121.929188],[38.50899887,-122.8130035],[47.447943,-122.310276],[43.585463,-96.741152],[32.650938,-114.609375],[32.650938,-114.609375]],"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eCancel_Reason=Carrier\u003cbr\u003eCancel_Count=%{marker.size}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Amarillo, TX: Rick Husband Amarillo International","Anchorage, AK: Ted Stevens Anchorage International","Bakersfield, CA: Meadows Field","Bangor, ME: Bangor International","Burbank, CA: Bob Hope","Charleston\u002fDunbar, WV: Yeager","Cheyenne, WY: Cheyenne Regional\u002fJerry Olson Field","Durango, CO: Durango La Plata County","Fairbanks, AK: Fairbanks International","Flagstaff, AZ: Flagstaff Pulliam","Gainesville, FL: Gainesville Regional","Greensboro\u002fHigh Point, NC: Piedmont Triad International","Greer, SC: Greenville-Spartanburg International","Gulfport\u002fBiloxi, MS: Gulfport-Biloxi International","Hilo, HI: Hilo International","Honolulu, HI: Daniel K Inouye International","Honolulu, HI: Daniel K Inouye International","Kahului, HI: Kahului Airport","Ketchikan, AK: Ketchikan International","Kona, HI: Ellison Onizuka Kona International at Keahole","Lawton\u002fFort Sill, OK: Lawton-Fort Sill Regional","Lihue, HI: Lihue Airport","Long Beach, CA: Long Beach Airport","Los Angeles, CA: Los Angeles International","Lynchburg, VA: Lynchburg Regional\u002fPreston Glenn Field","Martha's Vineyard, MA: Martha's Vineyard Airport","Mobile, AL: Mobile Downtown","Montgomery, AL: Montgomery Regional","Montrose\u002fDelta, CO: Montrose Regional","Oakland, CA: Metropolitan Oakland International","Peoria, IL: General Downing - Peoria International","Rapid City, SD: Rapid City Regional","Sacramento, CA: Sacramento International","San Jose, CA: Norman Y. Mineta San Jose International","Santa Rosa, CA: Charles M. Schulz - Sonoma County","Seattle, WA: Seattle\u002fTacoma International","Sioux Falls, SD: Joe Foss Field","Yuma, AZ: Yuma MCAS\u002fYuma International","Yuma, AZ: Yuma MCAS\u002fYuma International"],"lat":[35.219398,61.179004,35.433601,44.8074,34.197703,38.3731,41.155701,37.151501,64.815102,35.1385,29.6900997162,36.097801,34.895699,30.407301,19.721399,19.403931,21.32062,20.896263,55.35559845,19.738783,34.567699,21.976,33.816523,33.942501,37.326698,41.3931007385,30.626800537100003,32.300598,38.5098,37.720085,40.6642,44.0452995300293,38.6954,37.362452,38.50899887,47.447943,43.585463,32.650938,32.650938],"legendgroup":"Carrier","lon":[-101.706001,-149.992561,-119.056999,-68.828102,-118.356378,-81.593201,-104.811997,-107.753998,-147.856003,-111.670998,-82.2717971802,-79.937302,-82.218903,-89.070099,-155.048004,-99.170963,-157.924228,-156.431837,-131.7140045,-156.045603,-98.416603,-159.339005,-118.149891,-118.407997,-79.200401,-70.6143035889,-88.06809997559999,-86.393997,-107.893997,-122.221184,-89.693298,-103.05699920654295,-121.591003,-121.929188,-122.8130035,-122.310276,-96.741152,-114.609375,-114.609375],"marker":{"color":"#EF553B","opacity":0.8,"size":[5,4,1,3,40,2,1,2,2,1,1,6,8,3,1,12,12,2,1,1,1,2,2,63,2,1,1,1,2,25,2,3,19,26,2,28,4,1,1],"sizemode":"area","sizeref":1.8475,"symbol":"circle"},"mode":"markers","name":"Carrier","showlegend":true,"type":"scattergeo"},{"customdata":[[40.978101,-124.109],[35.433601,-119.056999],[44.254101,-121.150002],[40.4771,-88.915901],[43.5644,-116.223],[45.7775,-111.153],[44.471901,-73.153297],[41.884701,-91.7108],[40.039819,-88.276249],[38.805801,-104.700996],[39.902401,-84.219398],[44.86579895019531,-91.48429870605467],[47.9063,-122.281998],[42.96540069580078,-83.74359893798828],[36.776199,-119.718002],[40.96749877929688,-98.30960083007812],[44.483459,-88.130805],[36.097801,-79.937302],[47.168399810791016,-88.48909759521484],[37.151798,-94.498299],[42.234901428222656,-85.5521011352539],[31.0672,-97.828903],[43.879002,-91.256699],[27.543800354003903,-99.46160125732422],[37.857914,-80.400438],[38.036499,-84.605904],[40.85100173950195,-96.75920104980467],[34.729582,-92.223728],[33.663601,-101.822998],[43.1399,-89.337502],[39.14099884033203,-96.6707992553711],[42.37419891357422,-122.8730010986328],[26.176141,-98.237965],[46.91630173,-114.0910034],[38.755001,-109.754997],[30.6912,-88.242798],[36.58700180053711,-121.84300231933594],[44.777448,-89.670238],[41.3032,-95.894096],[34.056,-117.600998],[37.06079864501953,-88.7738037109375],[33.8297,-116.507004],[46.264702,-119.119003],[40.6642,-89.693298],[43.646198,-70.309303],[40.50899887,-122.2929993],[43.908298,-92.5],[43.1189,-77.672401],[31.35770034790039,-100.49600219726562],[32.7336006165,-117.190002441],[37.619806,-122.374821],[35.2368011475,-120.641998291],[34.426201,-119.839996],[27.394631,-82.554359],[42.397605,-96.382237],[47.6199,-117.533997],[37.245701,-93.388603],[41.5868,-83.8078],[44.74140167236328,-85.58219909667969],[32.115004,-110.938053],[32.35409927368164,-95.40239715576172],[31.611299514770508,-97.23049926757812],[42.55709838867188,-92.40029907226562],[44.91400146,-97.15470123],[33.9888,-98.491898],[37.649899,-97.433098]],"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eCancel_Reason=National Air System\u003cbr\u003eCancel_Count=%{marker.size}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Arcata\u002fEureka, CA: California Redwood Coast Humboldt County","Bakersfield, CA: Meadows Field","Bend\u002fRedmond, OR: Roberts Field","Bloomington\u002fNormal, IL: Central Il Regional Airport at Bloomington","Boise, ID: Boise Air Terminal","Bozeman, MT: Bozeman Yellowstone International","Burlington, VT: Burlington International","Cedar Rapids\u002fIowa City, IA: The Eastern Iowa","Champaign\u002fUrbana, IL: University of Illinois\u002fWillard","Colorado Springs, CO: City of Colorado Springs Municipal","Dayton, OH: James M Cox\u002fDayton International","Eau Claire, WI: Chippewa Valley Regional","Everett, WA: Snohomish County","Flint, MI: Bishop International","Fresno, CA: Fresno Yosemite International","Grand Island, NE: Central Nebraska Regional","Green Bay, WI: Green Bay Austin Straubel International","Greensboro\u002fHigh Point, NC: Piedmont Triad International","Hancock\u002fHoughton, MI: Houghton County Memorial","Joplin, MO: Joplin Regional","Kalamazoo, MI: Kalamazoo\u002fBattle Creek International","Killeen, TX: Robert Gray AAF","La Crosse, WI: La Crosse Regional","Laredo, TX: Laredo International","Lewisburg, WV: Greenbrier Valley","Lexington, KY: Blue Grass","Lincoln, NE: Lincoln Airport","Little Rock, AR: Bill and Hillary Clinton Nat Adams Field","Lubbock, TX: Lubbock Preston Smith International","Madison, WI: Dane County Regional-Truax Field","Manhattan\u002fFt. Riley, KS: Manhattan Regional","Medford, OR: Rogue Valley International - Medford","Mission\u002fMcAllen\u002fEdinburg, TX: McAllen Miller International","Missoula, MT: Missoula International","Moab, UT: Canyonlands Field","Mobile, AL: Mobile Regional","Monterey, CA: Monterey Regional","Mosinee, WI: Central Wisconsin","Omaha, NE: Eppley Airfield","Ontario, CA: Ontario International","Paducah, KY: Barkley Regional","Palm Springs, CA: Palm Springs International","Pasco\u002fKennewick\u002fRichland, WA: Tri Cities","Peoria, IL: General Downing - Peoria International","Portland, ME: Portland International Jetport","Redding, CA: Redding Municipal","Rochester, MN: Rochester International","Rochester, NY: Greater Rochester International","San Angelo, TX: San Angelo Regional\u002fMathis Field","San Diego, CA: San Diego International","San Francisco, CA: San Francisco International","San Luis Obispo, CA: San Luis County Regional","Santa Barbara, CA: Santa Barbara Municipal","Sarasota\u002fBradenton, FL: Sarasota\u002fBradenton International","Sioux City, IA: Sioux Gateway Brig Gen Bud Day Field","Spokane, WA: Spokane International","Springfield, MO: Springfield-Branson National","Toledo, OH: Toledo Express","Traverse City, MI: Cherry Capital","Tucson, AZ: Tucson International","Tyler, TX: Tyler Pounds Regional","Waco, TX: Waco Regional","Waterloo, IA: Waterloo Regional","Watertown, SD: Watertown Regional","Wichita Falls, TX: Sheppard AFB\u002fWichita Falls Municipal","Wichita, KS: Wichita Dwight D Eisenhower National"],"lat":[40.978101,35.433601,44.254101,40.4771,43.5644,45.7775,44.471901,41.884701,40.039819,38.805801,39.902401,44.86579895019531,47.9063,42.96540069580078,36.776199,40.96749877929688,44.483459,36.097801,47.168399810791016,37.151798,42.234901428222656,31.0672,43.879002,27.543800354003903,37.857914,38.036499,40.85100173950195,34.729582,33.663601,43.1399,39.14099884033203,42.37419891357422,26.176141,46.91630173,38.755001,30.6912,36.58700180053711,44.777448,41.3032,34.056,37.06079864501953,33.8297,46.264702,40.6642,43.646198,40.50899887,43.908298,43.1189,31.35770034790039,32.7336006165,37.619806,35.2368011475,34.426201,27.394631,42.397605,47.6199,37.245701,41.5868,44.74140167236328,32.115004,32.35409927368164,31.611299514770508,42.55709838867188,44.91400146,33.9888,37.649899],"legendgroup":"National Air System","lon":[-124.109,-119.056999,-121.150002,-88.915901,-116.223,-111.153,-73.153297,-91.7108,-88.276249,-104.700996,-84.219398,-91.48429870605467,-122.281998,-83.74359893798828,-119.718002,-98.30960083007812,-88.130805,-79.937302,-88.48909759521484,-94.498299,-85.5521011352539,-97.828903,-91.256699,-99.46160125732422,-80.400438,-84.605904,-96.75920104980467,-92.223728,-101.822998,-89.337502,-96.6707992553711,-122.8730010986328,-98.237965,-114.0910034,-109.754997,-88.242798,-121.84300231933594,-89.670238,-95.894096,-117.600998,-88.7738037109375,-116.507004,-119.119003,-89.693298,-70.309303,-122.2929993,-92.5,-77.672401,-100.49600219726562,-117.190002441,-122.374821,-120.641998291,-119.839996,-82.554359,-96.382237,-117.533997,-93.388603,-83.8078,-85.58219909667969,-110.938053,-95.40239715576172,-97.23049926757812,-92.40029907226562,-97.15470123,-98.491898,-97.433098],"marker":{"color":"#00cc96","opacity":0.8,"size":[6,1,10,5,11,1,4,8,5,6,8,3,10,3,9,1,5,6,3,2,4,5,2,3,2,5,1,8,8,12,4,12,7,2,3,3,3,2,13,29,2,6,4,2,7,7,3,7,1,35,343,10,12,1,2,7,5,4,6,13,1,2,1,1,1,8],"sizemode":"area","sizeref":1.8475,"symbol":"circle"},"mode":"markers","name":"National Air System","showlegend":true,"type":"scattergeo"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"geo":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"projection":{"type":"albers usa"},"center":{},"scope":"usa"},"legend":{"title":{"text":"Reason"},"tracegroupgap":0,"itemsizing":"constant","yanchor":"top","y":0.99,"xanchor":"right","x":0.99},"title":{"text":"Cancellation Reasons by Airport (Mapped via FAA\u002fIATA Codes)"},"margin":{"r":0,"t":50,"l":0,"b":0}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('14defe61-ea5c-4a3e-a06a-1f964b9e6faa');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p><strong>The Map Reveals</strong>: This map visualizes the dominant reason for cancellations at each airport in the United States. * Weather: Notice the cluster of cancellations in the Southeastern US (Florida/Carolinas)? This correlates with Hurricane Dorian, which skirted the coast in early September. * Carrier: Other dots indicate logistical or mechanical issues, reminding us that sometimes it‚Äôs not the weather‚Äîit‚Äôs the operations.</p>
</section>
<section id="chapter-3-finding-the-heroes" class="level2">
<h2 class="anchored" data-anchor-id="chapter-3-finding-the-heroes">üèÜ Chapter 3: Finding the Heroes</h2>
<p>Who will get you there early?</p>
<p>Enough with the bad news. Let‚Äôs end on a high note! Some airlines don‚Äôt just arrive on time‚Äîthey arrive early. I ranked all 17 airlines based on their maximum early departure minutes.</p>
<div id="5c269368" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Query 2</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> textwrap</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>df_q2[<span class="st">'Clean_Name'</span>] <span class="op">=</span> df_q2[<span class="st">'airline_early_departure_desc'</span>].<span class="bu">str</span>.split(<span class="st">':'</span>).<span class="bu">str</span>[<span class="dv">0</span>]</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>top3_df <span class="op">=</span> df_q2.head(<span class="dv">3</span>).copy()</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>medals <span class="op">=</span> [<span class="st">"ü•á 1st Place"</span>, <span class="st">"ü•à 2nd Place"</span>, <span class="st">"ü•â 3rd Place"</span>]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>top3_df[<span class="st">'Rank_Label'</span>] <span class="op">=</span> medals</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>top3_df[<span class="st">'Airline_Name'</span>] <span class="op">=</span> top3_df[<span class="st">'Clean_Name'</span>] </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>others_list <span class="op">=</span> df_q2.iloc[<span class="dv">3</span>:][<span class="st">'Clean_Name'</span>].tolist()</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>others_str <span class="op">=</span> <span class="st">", "</span>.join(others_list)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>full_text <span class="op">=</span> <span class="ss">f"&lt;b&gt;The followings are the fourth rank to last rank:&lt;/b&gt;&lt;br&gt;</span><span class="sc">{</span>others_str<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>wrapped_list <span class="op">=</span> <span class="st">"&lt;br&gt;"</span>.join(textwrap.wrap(others_str, width<span class="op">=</span><span class="dv">90</span>))</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>final_footer <span class="op">=</span> <span class="ss">f"&lt;b&gt;The followings are the fourth rank to last rank:&lt;/b&gt;&lt;br&gt;</span><span class="sc">{</span>wrapped_list<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure(data<span class="op">=</span>[go.Table(</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    columnorder <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>],</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    columnwidth <span class="op">=</span> [<span class="dv">80</span>, <span class="dv">400</span>],</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    header<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        values<span class="op">=</span>[<span class="st">'&lt;b&gt;Rank&lt;/b&gt;'</span>, <span class="st">'&lt;b&gt;Airline (Best Early Departures)&lt;/b&gt;'</span>],</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        line_color<span class="op">=</span><span class="st">'darkslategray'</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        fill_color<span class="op">=</span><span class="st">'royalblue'</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        align<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        font<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'white'</span>, size<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    cells<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>        values<span class="op">=</span>[top3_df.Rank_Label, top3_df.Airline_Name],</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        line_color<span class="op">=</span><span class="st">'darkslategray'</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        fill_color<span class="op">=</span><span class="st">'lightcyan'</span>,</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>        align<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>        font<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'black'</span>, size<span class="op">=</span><span class="dv">14</span>),</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">40</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>)])</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 3 'Early Bird' Airlines in September 2019"</span>,</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 3 'Early Bird' Airlines (Sep 2019)"</span>,</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(b<span class="op">=</span><span class="dv">150</span>), </span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    annotations<span class="op">=</span>[<span class="bu">dict</span>(</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="dv">0</span>,          </span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=-</span><span class="fl">0.1</span>,       </span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>        xref<span class="op">=</span><span class="st">'paper'</span>, </span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>        yref<span class="op">=</span><span class="st">'paper'</span>,</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>final_footer,</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>        showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>        align<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>        font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">12</span>, color<span class="op">=</span><span class="st">"black"</span>) </span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    )]</span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="ab151ac6-405b-443b-9941-2242319b8282" class="plotly-graph-div" style="height:500px; width:500px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("ab151ac6-405b-443b-9941-2242319b8282")) {                    Plotly.newPlot(                        "ab151ac6-405b-443b-9941-2242319b8282",                        [{"cells":{"align":"left","fill":{"color":"lightcyan"},"font":{"color":"black","size":14},"height":40,"line":{"color":"darkslategray"},"values":[["\ud83e\udd47 1st Place","\ud83e\udd48 2nd Place","\ud83e\udd49 3rd Place"],["Republic Airline","United Air Lines Inc.","SkyWest Airlines Inc."]]},"columnorder":[1,2],"columnwidth":[80,400],"header":{"align":"left","fill":{"color":"royalblue"},"font":{"color":"white","size":16},"line":{"color":"darkslategray"},"values":["\u003cb\u003eRank\u003c\u002fb\u003e","\u003cb\u003eAirline (Best Early Departures)\u003c\u002fb\u003e"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"Top 3 'Early Bird' Airlines (Sep 2019)"},"width":500,"height":500,"margin":{"b":150},"annotations":[{"align":"left","font":{"color":"black","size":12},"showarrow":false,"text":"\u003cb\u003eThe followings are the fourth rank to last rank:\u003c\u002fb\u003e\u003cbr\u003eDelta Air Lines Inc., Frontier Airlines Inc., Alaska Airlines Inc., JetBlue Airways,\u003cbr\u003eAllegiant Air, PSA Airlines Inc., American Airlines Inc., Endeavor Air Inc., Envoy Air,\u003cbr\u003eSpirit Air Lines, Southwest Airlines Co., ExpressJet Airlines LLC, Mesa Airlines Inc.,\u003cbr\u003eHawaiian Airlines Inc.","x":0,"xref":"paper","y":-0.1,"yref":"paper"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('ab151ac6-405b-443b-9941-2242319b8282');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Congratulations to the three Medalists! Republic Airline got the first place and also placed at the median of maximum-delays ranking, so it did pretty good. But, while United Airlines ranked 1st for early departures, it also appeared in the top 5 for maximum delays, indicating inconsistent performance.</p>
<section id="final-thoughts" class="level3">
<h3 class="anchored" data-anchor-id="final-thoughts">üéÑ Final Thoughts</h3>
<p>As we approach the Christmas and snow season, the skies will get busy again. While we can‚Äôt control the weather or the air traffic, understanding these patterns gives us the power to make smarter choices. Safe travels and Happy Holidays! More importantly, we hoyas are almost there with final reports and exams~</p>
<p><strong>AI Assistance &amp; Data Source Disclaimer</strong></p>
<p>Please note that <strong>all statistical analyses, charts, and quantitative findings</strong> in this report are derived directly from SQL queries performed on the provided September 2019 flight dataset.</p>
<p>However, to provide a richer narrative, contextual information regarding specific historical weather events (e.g., Hurricane Dorian, the Pacific Northwest Arctic Blast) and local incidents was gathered with the assistance of an AI tool (Gemini) via web search. These external details are intended solely to hypothesize plausible reasons behind the observed delays and cancellations.</p>
<p>While efforts have been made to verify these events with cited sources, they should be viewed as <strong>interpretative context</strong> rather than primary data. If there are any discrepancies between these AI-retrieved details and actual historical records, please prioritize the quantitative results from the SQL analysis.</p>
<hr>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<section id="data-sources" class="level3">
<h3 class="anchored" data-anchor-id="data-sources">Data Sources</h3>
<ol type="1">
<li><strong>Flight Data (Primary):</strong> U.S. Department of Transportation. (2019). <em>Airline On-Time Statistics and Delay Causes (September 2019)</em>. Retrieved from <a href="https://www.transtats.bts.gov/">TranStats Database</a>.</li>
<li><strong>Geospatial Data:</strong> Megginson, D. (n.d.). <em>OurAirports Open Data</em>. Retrieved from <a href="https://ourairports.com/data/">https://ourairports.com/data/</a>.</li>
<li><strong>Population Data:</strong> U.S. Census Bureau. (2024). <em>Annual Estimates of the Resident Population for the United States, Regions, States, District of Columbia, and Puerto Rico: April 1, 2020 to July 1, 2024 (NST-EST2024-ALLDATA)</em>. Retrieved from <a href="https://www.census.gov/data/tables/time-series/demo/popest/2020s-state-total.html">Census.gov</a>.</li>
</ol>
</section>
<section id="contextual-news-sources" class="level3">
<h3 class="anchored" data-anchor-id="contextual-news-sources">Contextual &amp; News Sources</h3>
<ol start="4" type="1">
<li><strong>Quartz.</strong> (2024). <em>Flight cancellations and airport reductions</em>. Retrieved from <a href="https://qz.com/flight-cancellations-airport-flight-reductions-faa-sean-duffy-dot">https://qz.com/flight-cancellations-airport-flight-reductions-faa-sean-duffy-dot</a>.</li>
<li><strong>Wikipedia.</strong> (2019). <em>2019‚Äì20 North American winter: September 2019 Events</em>. Retrieved from <a href="https://en.wikipedia.org/wiki/2019%E2%80%9320_North_American_winter">Wikipedia</a>.</li>
<li><strong>KGW8 Portland.</strong> (2019, September 30). <em>Sunday was the coldest September day on record in Portland</em>. Retrieved from <a href="https://www.kgw.com/article/weather/coldest-september-day-ever-in-portland/283-c567e5ec-5080-44c2-b8d5-02ad0cb2e15c">KGW8.com</a>.</li>
<li><strong>National Weather Service (NWS).</strong> (2019). <em>Observation History for Southwest Oregon Regional Airport (KOTH)</em>. Retrieved from <a href="https://forecast.weather.gov/data/obhistory/KOTH.html">Weather.gov</a>.</li>
<li><strong>Coos Bay Speedway.</strong> (2019, September 28). <em>Forte Wins Second Consecutive ISCS Main Event</em>. Retrieved from <a href="http://www.coosbayspeedway.us/press/article/78734">CoosBaySpeedway.us</a>.</li>
</ol>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>